# Document Templates Structure

This folder contains the structure/template definitions for all PDF documents generated by the system.

## Folder Structure

```
backend/src/documents/
├── ekyc/
│   └── structure.js          # eKYC Document structure
├── agreement/
│   └── structure.js          # PG Rental Agreement structure
└── README.md                 # This file
```

## How It Works

The document generation code (`backend/src/services/documentService.js`) imports these structure files and uses them to generate PDFs. This separation allows you to:

- **Modify document structure** without touching the generation code
- **Change colors, fonts, sections** easily
- **Add/remove fields** by updating the structure files
- **Maintain consistency** across document types

## Modifying Documents

### To Change eKYC Document:

Edit `backend/src/documents/ekyc/structure.js`:

```javascript
export const ekycDocumentStructure = {
  // Change header
  header: {
    height: 80,
    backgroundColor: "#6366f1",  // Change color here
    title: {
      text: "eKYC VERIFICATION DOCUMENT",  // Change title
      fontSize: 24,  // Change font size
      // ...
    }
  },
  
  // Change colors
  colors: {
    primary: "#0f172a",
    accent: "#6366f1",  // Change accent color
    // ...
  },
  
  // Add/remove fields
  sections: {
    personalDetails: {
      fields: [
        { key: "fullName", label: "Full Name" },
        // Add new field here:
        // { key: "newField", label: "New Field Label" },
      ]
    }
  }
}
```

### To Change Agreement Document:

Edit `backend/src/documents/agreement/structure.js`:

```javascript
export const agreementDocumentStructure = {
  // Change sections
  sections: {
    financialTerms: {
      fields: [
        { key: "monthlyRent", label: "Monthly Rent", format: "currency" },
        // Add/remove fields here
      ]
    },
    
    consent: {
      items: [
        "✓ All personal details...",
        // Add/remove consent items
      ]
    }
  }
}
```

## Structure File Format

Each structure file exports an object with:

- **`metadata`**: Document metadata (title, author, subject)
- **`header`**: Header configuration (height, colors, text)
- **`colors`**: Color palette used throughout
- **`sections`**: Section definitions with fields
- **`footer`**: Footer text and styling
- **`formatters`**: Formatting functions (date, currency, etc.)

## Adding New Document Types

1. Create a new folder: `backend/src/documents/new-document-type/`
2. Create `structure.js` with the document structure
3. Import it in `documentService.js`
4. Create a generation function that uses the structure

## Examples

### Change Header Color

In `ekyc/structure.js`:
```javascript
header: {
  backgroundColor: "#ff0000",  // Red header
  // ...
}
```

### Add New Field

In `ekyc/structure.js`:
```javascript
sections: {
  personalDetails: {
    fields: [
      // ... existing fields
      { key: "emergencyContact", label: "Emergency Contact" },
    ]
  }
}
```

Then update `documentService.js` in the `getPersonalDetailValue` function to handle the new field.

### Change Footer Text

In `agreement/structure.js`:
```javascript
footer: {
  lines: [
    "Custom footer line 1",
    "Custom footer line 2",
  ],
  // ...
}
```

## Notes

- Changes to structure files take effect immediately (no code changes needed)
- The generation code handles the logic, structure files define the layout
- All formatting functions are in the structure files for easy modification
- Colors, fonts, and spacing can all be changed in the structure files

---

**Last Updated**: 2025-01-29

